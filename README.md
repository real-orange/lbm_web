# 格子玻尔兹曼流场模拟（LBM）

基于 **D2Q9 格子玻尔兹曼方法** 的二维不可压缩流场交互式模拟。流体从左侧流入、右侧流出，可实时添加障碍物，观察绕流与尾迹。

## 运行方式

用浏览器直接打开项目中的 **`lbm.html`** 即可（双击或在浏览器中打开该文件）。无需安装依赖或启动服务器。

## 操作说明

| 操作 | 说明 |
|------|------|
| **鼠标左键按住并拖动** | 在流场中“画”出障碍物（黑色区域），流场会实时更新 |
| **鼠标右键点击** | 擦除该位置的障碍物 |
| **暂停 / 继续** | 暂停或恢复时间步推进 |
| **重置** | 清空障碍物，将流场恢复为初始状态（不改变已设置的参数） |

## 可调参数

点击 **「应用参数并重置」** 后，以下参数才会生效，并会重新分配网格、清空障碍物。

| 参数 | 含义 | 默认值 | 建议范围 |
|------|------|--------|----------|
| **宽度 Nx** | 流场横向格点数 | 200 | 50～400（越大越精细，计算越慢） |
| **高度 Ny** | 流场纵向格点数 | 100 | 30～200 |
| **入射速度 u_in** | 左侧入口的来流速度 | 0.08 | 0～0.3（过大可能不稳定） |
| **密度 ρ₀** | 参考密度 | 1.0 | 0.1～5 |
| **松弛时间 τ** | BGK 碰撞松弛时间，与粘度相关 | 0.6 | 0.51～2（τ 过小易不稳定） |

## 界面与可视化

- **颜色**：表示流速大小。蓝→青→黄→红 表示速度由低到高。
- **黑色区域**：障碍物（固体），采用反弹边界条件。
- **顶部栏**：显示当前格点尺寸（Nx × Ny）和已推进的时间步数。

## 技术说明

- **模型**：二维、单松弛（BGK）、D2Q9 格子。
- **边界条件**：
  - 左边界：给定入口速度 **u_in**，密度 **ρ₀**，用平衡分布赋值。
  - 右边界：零梯度出口（拷贝前一列分布）。
  - 上下边界：无滑移固壁（反弹）。
- **障碍物**：固体格点采用反弹格式；新增障碍物时，该格点分布被设为静止平衡（ρ₀，速度 0）。

## 文件说明

- **lbm.html**：页面结构、参数输入框、画布与说明文字。
- **lbm.js**：LBM 核心算法（碰撞、迁移、边界条件）、障碍物交互与速度场绘制。
- **style.css**：与项目其他页面共用的基础样式（本页另有内联样式）。

---

如有问题或想扩展功能（如多相流、温度场等），可在本仓库中继续修改 `lbm.js` 与 `lbm.html`。
